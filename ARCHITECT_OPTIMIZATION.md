# Architect Prompt 优化总结

## 改进重点：优先保证图表公式的完整覆盖

### 主要变化

#### 1. 明确优先级层次
- **第一优先级**：完整覆盖所有视觉元素（图/表/公式）
- **第二优先级**：IMRAD结构完整性
- **第三优先级**：多维度深度提问

#### 2. 强制要求清单
在生成子问题之前，Architect必须：
1. 核查图表清单中的每一项
2. 为每个图表创建独立的section
3. 追踪所有编号公式

#### 3. 新增覆盖完整性自检清单
输出JSON之前必须确认：
- [ ] 图表清单中的每个图/表是否都有对应的section？
- [ ] 每个编号公式（如果有）是否都被分析？
- [ ] IMRAD四大部分是否都有覆盖？
- [ ] 每个section的sub_questions是否包含2-4个不同类型的问题？

#### 4. 增强示例说明
提供了完整的section示例，明确包含：
- type字段设置（figure/equation）
- section_title必须包含图表编号
- target_pages指向正确页码

## 预期效果

### 优化前
可能遗漏部分图表，重点在多维提问

### 优化后
✅ 确保所有图表都被分析
✅ 每个公式都有专门section
✅ 在覆盖完整的基础上进行深度提问

## 测试建议

重新运行同一篇论文，对比：
1. 生成的section数量（应该增加）
2. figure类型section的数量（应等于figure_list长度）
3. 是否还有图表被遗漏
